<!-- 
title: ログベースのE2Eテストシナリオ自動生成案
date: 2021-03-24T20:18:58+09:00
draft: true
description: 
image: 
icon: 🤖
-->

# モチベーション

E2Eテストのシナリオってメンテナンスしていますか？
機能が増えたときに、ちゃんとシナリオはアップデートできていますか？
進化が激しいシステムだと、このメンテナンスがつらくなってきます。

『あれ、このシナリオなぜか動かなくなったぞ』  
『タイミングによって、このシナリオ失敗するんだよね』  
『最近増えたあの機能、シナリオでカバーされていないな』  

耳が痛いです。

# アイデア

アクセスログや、UIイベントログから、よく通るルートTOP○%のパターンを抽出し、
シナリオパターンリストを出力したい。それをE2Eテストで動かすようにしたい。
そうすれば、シナリオを書かなくても、ログベースで主要なルートがE2Eテストできます。
また、ログから新しいシナリオケースを導き出せれば、機能改善されてもシナリオも改善されます。

じゃあ、これだけでE2Eはシナリオを書かなくて良いのでしょうか。どうなんでしょう。
できる限り、シナリオを書きたくないです。が、例えばクレジットカード支払いのUIイベントとかって、
セキュリティ上取得しちゃ駄目だと思います。ので、部分的にはシナリオを書かないといけないのかなと
思っています。